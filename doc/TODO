refactor AllMacroExpansionService
    try to move its logic to MacroExpander
    and then try to move MacroExpander logic into some service
    then maybe MacroExpander might be turned into just some dto

add tests
    extend performance test for ExpressionProcessorTest
        add optimization if needed
            TODO in ExpressionProcessor

    for macro package
        for components package
        for services package
        for maro processor

macros
    add support for ## macro joining operation
        it can join tokens of different types
        some combination of token types are invalid
        result should always form a single token
        otherwise warning or error should be thrown
        looks like spaces are ignored as if they didn't exist

    add support for vararg macros
